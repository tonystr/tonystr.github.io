{"version":3,"sources":["components/Ribbons.jsx","components/Header.jsx","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread.js","pages/Minesweeper.jsx"],"names":["__webpack_require__","d","__webpack_exports__","Ribbons","react__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_0___default","n","react_router_dom__WEBPACK_IMPORTED_MODULE_1__","props","a","createElement","className","to","href","target","rel","r","Header","_Ribbons_jsx__WEBPACK_IMPORTED_MODULE_1__","src","concat","window","location","origin","toString","alt","_defineProperty","obj","key","value","Object","defineProperty","enumerable","configurable","writable","_objectSpread","i","arguments","length","source","ownKeys","keys","getOwnPropertySymbols","filter","sym","getOwnPropertyDescriptor","forEach","gridFindValue","grid","rx","ry","rw","rh","val","y","Math","max","min","x","undefined","gridGenerate","width","height","bombCount","defCell","hidden","flag","Array","from","floor","random","map","row","cell","Stopwatch","_ref","stop","_useState","useState","_useState2","slicedToArray","time","setTime","useEffect","setTimeout","TableContent","placeFlag","flagCount","gameState","setGameState","setFlagCount","setGrid","prev","aroundCell","func","ym","xm","special","0","9","10","cellVal","fill","createHandleClick","ctrl","handleSuccess","mutGrid","newShowCount","showCount","mgc","JSON","parse","stringify","touchCell","sum","setShowCount","gr","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","Symbol","iterator","next","done","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","err","return","gridIsSolved","ax","ay","react_default","onClick","onContextMenu","Minesweeper","round","_useState3","_useState4","_useState5","_useState6","_useState7","_useState8","_useState9","_useState10","_useState11","_useState12","setCtrl","gameRef","React","useRef","ev","e","preventDefault","current","addEventListener","kde","keyCode","kue","removeEventListener","Fragment","ref","Counter","role","aria-label","toggle","title","_useState13","_useState14","setToggle","children"],"mappings":"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","file":"static/js/10.cc0ecacc.chunk.js","sourcesContent":["import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport '../styles/ribbons.scss';\r\n\r\nexport default function Ribbons(props) {\r\n    return (\r\n        <ul className='ribbons'>\r\n            <Link to='/'><li className='l0'><i className='far fa-id-card' /></li></Link>\r\n            <Link to='/articles'><li className='l1'><i className='fas fa-file-invoice' /></li></Link>\r\n            <Link to='/snippets'><li className='l2'><i className='fas fa-code' /></li></Link>\r\n            <a href='https://github.com/tonystr' target='_blank' rel='noopener noreferrer'>\r\n                <li className='l3'><i className='fab fa-github' /></li>\r\n            </a>\r\n            <a href='https://twitter.com/TonyStr_' target='_blank' rel='noopener noreferrer'>\r\n                <li className='l4'><i className='fab fa-twitter' /></li>\r\n            </a>\r\n        </ul>\r\n    );\r\n}\r\n","import React from 'react';\r\nimport Ribbons from './Ribbons.jsx';\r\nimport '../styles/header.scss';\r\n\r\nexport default function Header(props) {\r\n    // let rootURL = `${window.location.protocol}//${window.location.hostname}:${window.location.port}`;\r\n    // rootURL = rootURL.replace('localhost', '127.0.0.1');\r\n    return (\r\n        <header>\r\n            <Ribbons />\r\n            <div className='tony'>\r\n                <img\r\n                    src={`${window.location.origin.toString()}/images/window.png`}\r\n                    alt='Window Icon'\r\n                />\r\n                Tony Strømsnæs\r\n            </div>\r\n        </header>\r\n    );\r\n}\r\n","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import defineProperty from \"./defineProperty\";\nexport default function _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n    var ownKeys = Object.keys(source);\n\n    if (typeof Object.getOwnPropertySymbols === 'function') {\n      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n      }));\n    }\n\n    ownKeys.forEach(function (key) {\n      defineProperty(target, key, source[key]);\n    });\n  }\n\n  return target;\n}","import React, { useState, useEffect } from 'react';\r\nimport Header from '../components/Header.jsx';\r\nimport '../styles/minesweeper.scss';\r\n\r\nfunction gridFindValue(grid, rx, ry, rw, rh) {\r\n    let val = 0;\r\n    for (let y = Math.max(ry - 1, 0); y < Math.min(ry + 2, rh); y++) {\r\n        for (let x = Math.max(rx - 1, 0); x < Math.min(rx + 2, rw); x++) {\r\n            if ((x === rx && y === ry) || grid[y] === undefined) continue;\r\n            if (grid[y][x].value === 9) val++;\r\n        }\r\n    }\r\n    return val;\r\n}\r\n\r\nfunction gridGenerate(width, height, bombCount) {\r\n    const defCell = {\r\n        hidden: true,\r\n        flag: false,\r\n        value: 0\r\n    };\r\n\r\n    let grid = Array.from(\r\n        { length: height }, () => Array.from(\r\n            { length: width }, () => ({\r\n                ...defCell,\r\n                value: 0\r\n            })\r\n        )\r\n    );\r\n\r\n    while (bombCount > 0) {\r\n        const x = Math.floor(Math.random() * width);\r\n        const y = Math.floor(Math.random() * height);\r\n        if (grid[y][x].value === 0) {\r\n            grid[y][x].value = 9;\r\n            bombCount--;\r\n        }\r\n    }\r\n\r\n    grid = grid.map((row, ry) => row.map((cell, rx) => (cell.value === 0 ?\r\n        { ...cell, value: gridFindValue(grid, rx, ry, width, height) } :\r\n        cell\r\n    )));\r\n\r\n    return grid;\r\n}\r\n\r\nfunction Stopwatch({ stop }) {\r\n    const [time, setTime] = useState(0);\r\n\r\n    useEffect(() => {\r\n        if (!stop) setTimeout(() => setTime(time + 1), 1000);\r\n    }, [time, stop]);\r\n\r\n    if (time < 60) {\r\n        return `${time}`;\r\n    } else if (time < 3600) {\r\n        return `${Math.floor(time / 60)}:${time % 60}`;\r\n    } else {\r\n        return `${Math.floor(time / 3600)}:${Math.floor(time / 60) % 60}:${time % 60}`;\r\n    }\r\n}\r\n\r\nfunction gridIsSolved(gr) {\r\n    for (let row of gr) {\r\n        for (let cell of row) {\r\n            if (cell.hidden && cell.value < 9) return false;\r\n        }\r\n    }\r\n    return true;\r\n}\r\n\r\nfunction TableContent(props) {\r\n\r\n    const placeFlag = (rx, ry) => {\r\n        if (!props.grid[ry][rx].hidden) return;\r\n        if (!props.grid[ry][rx].flag && props.flagCount <= 0) return;\r\n        if (props.gameState !== 'playing') props.setGameState('playing');\r\n\r\n        props.setFlagCount(props.flagCount + props.grid[ry][rx].flag - !props.grid[ry][rx].flag);\r\n        props.setGrid(prev => prev.map((row, y) => row.map((cell, x) => x === rx && y === ry ?\r\n            { ...cell, flag: !cell.flag } :\r\n            cell\r\n        )));\r\n\r\n        return false;\r\n    }\r\n\r\n    const touchCell = (mutGrid, rx, ry, rw = props.width, rh = props.height) => {\r\n        let sum = mutGrid[ry][rx].hidden !== false;\r\n        mutGrid[ry][rx].hidden = false;\r\n        if (mutGrid[ry][rx].value < 1) aroundCell(rx, ry, (x, y) => {\r\n            if (mutGrid[y][x].hidden && !mutGrid[y][x].flag) {\r\n                sum += touchCell(mutGrid, x, y, rw, rh);\r\n            }\r\n        });\r\n        return sum;\r\n    };\r\n\r\n    const aroundCell = (rx, ry, func, rw = props.width, rh = props.height) => {\r\n        const ym = Math.min(ry + 2, rh);\r\n        const xm = Math.min(rx + 2, rw);\r\n        for (let y = Math.max(ry - 1, 0); y < ym; y++) {\r\n            for (let x = Math.max(rx - 1, 0); x < xm; x++) {\r\n                if (x !== rx || y !== ry) {\r\n                    func(x, y);\r\n                }\r\n            }\r\n        }\r\n    };\r\n\r\n    const special = { 0: ' ', 9: '💣', 10: '💥' };\r\n    const cellVal = new Array(11).fill().map((a, i) => special[i] || i);\r\n\r\n    const createHandleClick = (rx, ry, cell) => {\r\n        if (props.gameState === 'lost') return undefined;\r\n        if (props.ctrl) return () => placeFlag(rx, ry);\r\n        if (cell.flag) return undefined;\r\n\r\n        const handleSuccess = () => {\r\n            if (props.gameState === 'waiting') props.setGameState('playing');\r\n\r\n            props.setGrid(mutGrid => {\r\n                let newShowCount = props.showCount;\r\n                if (cell.value >= 1) {\r\n                    mutGrid = props.grid.map((row, y) => row.map((mgc, x) => x === rx && y === ry ?\r\n                        { ...mgc, hidden: false } :\r\n                        mgc\r\n                    ));\r\n                    newShowCount = props.showCount + 1;\r\n                } else {\r\n                    mutGrid = JSON.parse(JSON.stringify(props.grid));\r\n                    newShowCount = props.showCount + touchCell(mutGrid, rx, ry);\r\n                }\r\n\r\n                props.setShowCount(newShowCount);\r\n                if (props.width * props.height - newShowCount <= props.bombCount && gridIsSolved(mutGrid)) {\r\n                    props.setGameState('won');\r\n                }\r\n                return mutGrid;\r\n            });\r\n        };\r\n\r\n        if (cell.value === 9) return () => {\r\n            if (props.gameState === 'waiting') {\r\n                props.setGameState('playing');\r\n                props.setGrid(mutGrid => {\r\n                    mutGrid[ry][rx].value = 0;\r\n                    aroundCell(rx, ry, (x, y) => {\r\n                        const val = mutGrid[y][x].value;\r\n                        if (val > 0 && val < 9) mutGrid[y][x].value--\r\n                        return mutGrid;\r\n                    });\r\n                    while (true) {\r\n                        const x = Math.floor(Math.random() * props.width);\r\n                        const y = Math.floor(Math.random() * props.height);\r\n                        if (mutGrid[y][x].value > 8 || (x === rx && y === ry)) continue;\r\n                        mutGrid[y][x].value = 9;\r\n                        aroundCell(x, y, (ax, ay) => {\r\n                            if (mutGrid[ay][ax].value < 9) mutGrid[ay][ax].value++\r\n                            return mutGrid;\r\n                        });\r\n\r\n                        let sum = 0;\r\n                        aroundCell(rx, ry, (x, y) => {\r\n                            sum += mutGrid[y][x].value === 9;\r\n                        });\r\n                        mutGrid[ry][rx].value = sum;\r\n                        return mutGrid;\r\n                    }\r\n                });\r\n                return handleSuccess();\r\n            }\r\n            props.setGrid(mutGrid => {\r\n                mutGrid[ry][rx].value++;\r\n                return mutGrid;\r\n            });\r\n            props.setGameState('lost');\r\n        };\r\n\r\n        return handleSuccess;\r\n    }\r\n\r\n    return props.grid.map((row, ry) => (\r\n        <tr key={ry}>\r\n            {row.map((cell, rx) => (\r\n                <td\r\n                    key={rx}\r\n                    className={\r\n                        (cell.hidden ? 'hidden' : '') +\r\n                        ((!cell.hidden || props.gameState === 'lost') && cell.value >= 1 ? ` c-${cell.value}` : '') +\r\n                        (props.gameState === 'lost' && cell.flag && cell.value !== 9 ? ' flag-wrong' : '')\r\n                    }\r\n                    onClick={createHandleClick(rx, ry, cell)}\r\n                    onContextMenu={props.gameState !== 'lost' ? (() => placeFlag(rx, ry)) : undefined}\r\n                >\r\n                    {(cell.flag && <i className='far fa-flag' />) ||\r\n                    ((!cell.hidden || (props.gameState === 'lost' && cell.value > 8)) && (cellVal[cell.value] || cell.value))}\r\n                </td>\r\n            ))}\r\n        </tr>\r\n    ));\r\n}\r\n\r\nexport default function Minesweeper() {\r\n    const width  = 46;\r\n    const height = 21;\r\n    const bombCount = Math.round(width * height * .2);\r\n\r\n    const [grid,      setGrid     ] = useState(gridGenerate(width, height, bombCount));\r\n    const [gameState, setGameState] = useState('waiting');\r\n    const [flagCount, setFlagCount] = useState(bombCount);\r\n    const [showCount, setShowCount] = useState(0);\r\n    const [ctrl,      setCtrl     ] = useState(false);\r\n\r\n    const gameRef = React.useRef();\r\n    // const cellVal = [' ', '一', '二', '三', '四', '五', '六', '七', '八', '💣', '💥'];\r\n\r\n    useEffect(() => {\r\n        const ev = e => e.preventDefault() && false;\r\n        gameRef.current.addEventListener('contextmenu', ev);\r\n        const kde = window.addEventListener('keydown', e => e.keyCode === 17 && setCtrl(true));\r\n        const kue = window.addEventListener('keyup',   e => e.keyCode === 17 && setCtrl(false));\r\n        return () => {\r\n            gameRef.current.removeEventListener('contextmenu', ev);\r\n            window.removeEventListener('keydown', kde);\r\n            window.removeEventListener('keyup', kue);\r\n        }\r\n    }, []);\r\n\r\n    const gameRestart = () => {\r\n        setGrid(gridGenerate(width, height, bombCount));\r\n        setGameState('waiting');\r\n        setFlagCount(bombCount);\r\n        setShowCount(0);\r\n        setCtrl(false);\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <Header />\r\n            <div\r\n                className={`minesweeper ${gameState}`}\r\n                ref={gameRef}\r\n            >\r\n                <table className='game-grid'>\r\n                    <tbody>\r\n                        <TableContent\r\n                            grid={grid}\r\n                            setGrid={setGrid}\r\n                            flagCount={flagCount}\r\n                            setFlagCount={setFlagCount}\r\n                            gameState={gameState}\r\n                            setGameState={setGameState}\r\n                            showCount={showCount}\r\n                            setShowCount={setShowCount}\r\n                            width={width}\r\n                            height={height}\r\n                            bombCount={bombCount}\r\n                            ctrl={ctrl}\r\n                        />\r\n                    </tbody>\r\n                </table>\r\n                <div className='infobar'>\r\n                    <Counter className='flagcount'>\r\n                        Flags: <span>{flagCount} <i className='far fa-flag' /></span>\r\n                    </Counter>\r\n                    <Counter className='bombcount'>\r\n                        Bombs: <span>{bombCount - flagCount} <span role='img' aria-label='bomb'>💣</span></span>\r\n                    </Counter>\r\n                    <Counter className='grid-size'>\r\n                        Grid: <span>{width} × {height}</span>\r\n                    </Counter>\r\n                    <Counter className='stopwatch' toggle={true}>\r\n                        Time: <span className={gameState !== 'playing' ? 'stop' : ''}>\r\n                            <Stopwatch stop={gameState !== 'playing'} />\r\n                        </span>\r\n                    </Counter>\r\n                    <div\r\n                        className='counter'\r\n                        title='restart'\r\n                        onClick={gameRestart}\r\n                    >\r\n                        <i className=\"fas fa-redo\"/>\r\n                    </div>\r\n                    {gameState === 'won' && <div> You win! </div>}\r\n                </div>\r\n            </div>\r\n        </>\r\n    );\r\n}\r\n\r\nfunction Counter(props) {\r\n    const [toggle, setToggle] = useState(props.toggle || false);\r\n\r\n    return (\r\n        <div\r\n            className={(props.className || '') + ' counter' + (toggle ? ' toggle' : '')}\r\n            onClick={e => {\r\n                setToggle(!toggle)\r\n                if (props.onClick) props.onClick(e);\r\n            }}\r\n        >\r\n            {props.children}\r\n        </div>\r\n    );\r\n}\r\n"],"sourceRoot":""}