{"version":3,"sources":["pages/Paint.jsx"],"names":["canvasDraw","e","ctx","document","getElementById","getContext","x","clientX","y","clientY","px","window","mousePrevious","down","py","beginPath","lineWidth","strokeStyle","lineCap","moveTo","lineTo","stroke","Paint","useState","width","innerWidth","height","innerHeight","canvasSize","setCanvasSize","useEffect","updateCanvasSize","addEventListener","removeEventListener","className","id","onMouseDown","onMouseUp","onClick"],"mappings":"wMAIA,SAASA,EAAWC,GAChB,IACMC,EADSC,SAASC,eAAe,UACpBC,WAAW,MAExBC,EAAIL,EAAEM,QACNC,EAAIP,EAAEQ,QACNC,EAAKC,OAAOC,cAAcC,KAAOF,OAAOC,cAAcN,EAAIA,EAC1DQ,EAAKH,OAAOC,cAAcC,KAAOF,OAAOC,cAAcJ,EAAIA,EAGhEN,EAAIa,YACJb,EAAIc,UAAY,EAChBd,EAAIe,YAAc,UAClBf,EAAIgB,QAAU,QACdhB,EAAIiB,OAAOT,EAAII,GACfZ,EAAIkB,OAAOd,EAAGE,GACdN,EAAImB,SAEJV,OAAOC,cAAgB,CACnBN,EAAGA,EACHE,EAAGA,EACHK,MAAM,GAIC,SAASS,IAAS,IAAD,EACQC,mBAAS,CACzCC,MAAQb,OAAOc,WACfC,OAAQf,OAAOgB,YAAc,MAHL,mBACrBC,EADqB,KACTC,EADS,KAiB5B,OAXAC,qBAAU,WACN,IAAMC,EAAmB,kBAAMF,EAAc,CACzCL,MAAQb,OAAOc,WACfC,OAAQf,OAAOgB,YAAc,OAKjC,OAFAhB,OAAOqB,iBAAiB,SAAUD,GAE3B,kBAAMpB,OAAOsB,oBAAoB,SAAUF,MACnD,IAGC,qBAAKG,UAAU,QAAf,SACI,wBACIV,MAAOI,EAAWJ,MAClBE,OAAQE,EAAWF,OACnBS,GAAG,SACHC,YAAa,SAAAnC,GACTD,EAAWC,GACXE,SAAS6B,iBAAiB,YAAchC,IAE5CqC,UAAW,WACPlC,SAAS8B,oBAAoB,YAAajC,GAC1CW,OAAOC,cAAcC,MAAO,GAEhCyB,QAAS,SAAArC,GACLD,EAAWC,GACXU,OAAOC,cAAcC,MAAO,OA5DhDF,OAAOC,cAAgB,CAAEN,EAAG,KAAME,EAAG,KAAMK,MAAM","file":"static/js/23.2746c7c5.chunk.js","sourcesContent":["import React, { useState, useEffect } from 'react';\r\n\r\nwindow.mousePrevious = { x: null, y: null, down: false };\r\n\r\nfunction canvasDraw(e) {\r\n    const canvas = document.getElementById('canvas');\r\n    const ctx = canvas.getContext('2d');\r\n\r\n    const x = e.clientX;\r\n    const y = e.clientY;\r\n    const px = window.mousePrevious.down ? window.mousePrevious.x : x;\r\n    const py = window.mousePrevious.down ? window.mousePrevious.y : y;\r\n    // const dis = Math.sqrt(Math.pow(x - px, 2) + Math.pow(y - py, 2));\r\n\r\n    ctx.beginPath();\r\n    ctx.lineWidth = 5;\r\n    ctx.strokeStyle = '#ffffff';\r\n    ctx.lineCap = 'round';\r\n    ctx.moveTo(px, py);\r\n    ctx.lineTo(x, y);\r\n    ctx.stroke();\r\n\r\n    window.mousePrevious = {\r\n        x: x,\r\n        y: y,\r\n        down: true\r\n    }\r\n}\r\n\r\nexport default function Paint() {\r\n    const [canvasSize, setCanvasSize] = useState({\r\n        width:  window.innerWidth,\r\n        height: window.innerHeight - 138\r\n    });\r\n\r\n    useEffect(() => {\r\n        const updateCanvasSize = () => setCanvasSize({\r\n            width:  window.innerWidth,\r\n            height: window.innerHeight - 138\r\n        });\r\n\r\n        window.addEventListener('resize', updateCanvasSize);\r\n\r\n        return () => window.removeEventListener('resize', updateCanvasSize);\r\n    }, []);\r\n\r\n    return (\r\n        <div className='paint'>\r\n            <canvas\r\n                width={canvasSize.width}\r\n                height={canvasSize.height}\r\n                id='canvas'\r\n                onMouseDown={e => {\r\n                    canvasDraw(e);\r\n                    document.addEventListener('mousemove',  canvasDraw);\r\n                }}\r\n                onMouseUp={() => {\r\n                    document.removeEventListener('mousemove', canvasDraw)\r\n                    window.mousePrevious.down = false;\r\n                }}\r\n                onClick={e => {\r\n                    canvasDraw(e);\r\n                    window.mousePrevious.down = false;\r\n                }}\r\n            />\r\n        </div>\r\n    );\r\n    // <textarea id='copybox' />\r\n}\r\n"],"sourceRoot":""}