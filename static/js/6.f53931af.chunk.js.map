{"version":3,"sources":["components/Ribbons.jsx","components/Header.jsx","components/StandardPage.jsx","functions/requestRawText.jsx","components/ArticleTitle.jsx","pages/article.jsx","components/SectionTitle.jsx","components/Focus.jsx","components/CodeBlock.jsx"],"names":["__webpack_require__","d","__webpack_exports__","Ribbons","react__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_0___default","n","react_router_dom__WEBPACK_IMPORTED_MODULE_1__","props","a","createElement","className","to","href","target","rel","r","Header","_Ribbons_jsx__WEBPACK_IMPORTED_MODULE_1__","src","concat","window","location","origin","toString","StandardPage","_ref","Object","C_Users_tonys_Documents_tonystr_github_io_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_1___default","assign","requestRawText","_x","_x2","_requestRawText","apply","this","arguments","_callee","path","callback","xhttp","C_Users_tonys_Documents_tonystr_github_io_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default","wrap","_context","prev","next","XMLHttpRequest","onreadystatechange","readyState","status","responseText","open","send","stop","ArticleTitle","components","ASCIITable","lazy","e","then","bind","runningCodeblock","onChange","output","text","push","newLine","_len","length","args","Array","_key","_i","_args","data","newString","lastChar","slice","isArray","array","map","join","String","console","log","clear","ArticleMedia","type","match","startsWith","document","pathname","pageName","renderer","matches","render","alt","replace","react__WEBPACK_IMPORTED_MODULE_2___default","onClick","setFocus","onMouseOver","play","onMouseOut","pause","poster","loop","react__WEBPACK_IMPORTED_MODULE_2__","fallback","React","find","TableOfContents","contents","scrollToContent","innerText","classText","node","C_Users_tonys_Documents_tonystr_github_io_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_1__","querySelectorAll","classList","contains","scrollIntoView","scrollMode","behavior","generateURL","copybox","querySelector","value","parentNode","readOnly","focus","select","execCommand","cur","content","current","hidden","level","id","lis","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","Symbol","iterator","done","key","ttt","err","return","renderlis","ArticleContent","_useState","useState","_useState2","C_Users_tonys_Documents_tonystr_github_io_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__","markdown","setMarkdown","_useState3","_useState4","useEffect","protocol","hostname","port","article","name","toLowerCase","res","sectLines","sects","forEach","s","i","encodeURIComponent","setSections","wpac_init","widget","WIDGETPACK_LOADED","mc","async","getElementsByTagName","insertBefore","nextSibling","setTimeout","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","li","removeChild","from","getElementsByClassName","cb","canExecute","elm","add","copyBox","spanCopy","setAttribute","appendChild","addEventListener","spanRun","divOut","parentElement","append","andy","innerHTML","eval","Fragment","_components_Focus_jsx__WEBPACK_IMPORTED_MODULE_4__","video","dismount","_components_Header_jsx__WEBPACK_IMPORTED_MODULE_6__","_components_StandardPage_jsx__WEBPACK_IMPORTED_MODULE_7__","react_markdown_with_html__WEBPACK_IMPORTED_MODULE_3___default","source","linkTarget","renderers","code","CodeBlock","inlineCode","_components_CodeBlock_jsx__WEBPACK_IMPORTED_MODULE_10__","language","inline","link","A","heading","SectionTitle","image","ps","escapeHtml","Article","_useState5","_useState6","showTOC","setShowTOC","_useState7","_useState8","sections","_useState9","_useState10","currentTOC","setCurrentTOC","_useState11","_useState12","handleScroll","sectionTitles","_iteratorNormalCompletion3","_didIteratorError3","_iteratorError3","_step3","_iterator3","section","rect","getBoundingClientRect","top","innerHeight","check","isEnough","innerWidth","removeEventListener","style","height","children","Focus","videoRef","createRef","controls","ref","react_syntax_highlighter__WEBPACK_IMPORTED_MODULE_1__","react_syntax_highlighter_dist_styles_hljs_atom_one_dark__WEBPACK_IMPORTED_MODULE_2__","react_syntax_highlighter_dist_styles_hljs_atom_one_dark__WEBPACK_IMPORTED_MODULE_2___default","styleOneDark"],"mappings":"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","file":"static/js/6.f53931af.chunk.js","sourcesContent":["import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nexport default function Ribbons(props) {\r\n    return (\r\n        <ul className='ribbons'>\r\n            <Link to='/'><li className='l0'><i className=\"far fa-id-card\" /></li></Link>\r\n            <Link to='/articles'><li className='l1'><i className=\"fas fa-file-invoice\" /></li></Link>\r\n            <Link to='/snippets'><li className='l2'><i className=\"fas fa-code\" /></li></Link>\r\n            <a href='mailto:hello@tonystr.net' target='_blank' rel=\"noopener noreferrer\">\r\n                <li className='l3'><i className=\"far fa-envelope\" /></li>\r\n            </a>\r\n            <a href='https://twitter.com/TonyStr_' target='_blank' rel=\"noopener noreferrer\">\r\n                <li className='l4'><i className=\"fab fa-twitter\" /></li>\r\n            </a>\r\n        </ul>\r\n    );\r\n}\r\n","import React from 'react';\r\nimport Ribbons from './Ribbons.jsx';\r\n\r\nexport default function Header(props) {\r\n    // let rootURL = `${window.location.protocol}//${window.location.hostname}:${window.location.port}`;\r\n    // rootURL = rootURL.replace('localhost', '127.0.0.1');\r\n    return (\r\n        <header>\r\n            <Ribbons />\r\n            <div className='tony'>\r\n                <img src={`${window.location.origin.toString()}/images/window.png`} />\r\n                Tony Strømsnæs\r\n            </div>\r\n        </header>\r\n    );\r\n}\r\n","import React from 'react';\r\n\r\nexport default function StandardPage({ className, ...props }) {\r\n    return <div className={'standard-page ' + (className || '')} {...props}/>;\r\n}\r\n","export default async function requestRawText(path, callback) {\r\n    const xhttp = new XMLHttpRequest();\r\n    xhttp.onreadystatechange = () => {\r\n        if (xhttp.readyState === 4 && xhttp.status === 200) {\r\n            callback(xhttp.responseText);\r\n        }\r\n    }\r\n    xhttp.open('GET', path, true);\r\n    xhttp.send();\r\n}\r\n","import React from 'react';\r\n\r\nexport default function ArticleTitle(props) {\r\n    return <div {...props} className='article-title section-header' />\r\n}\r\n","import React, { useState, useEffect, lazy, Suspense } from 'react';\r\nimport Markdown from 'react-markdown/with-html';  // react-markdown\r\nimport Focus        from '../components/Focus.jsx';\r\nimport A            from '../components/A.jsx';\r\nimport Header       from '../components/Header.jsx'\r\nimport StandardPage from '../components/StandardPage.jsx';\r\nimport ArticleTitle from '../components/ArticleTitle.jsx';\r\nimport SectionTitle from '../components/SectionTitle.jsx';\r\nimport CodeBlock    from '../components/CodeBlock.jsx';\r\nimport scrollIntoView from 'scroll-into-view-if-needed';\r\nimport requestRawText from '../functions/requestRawText.jsx';\r\nconst components = {\r\n    ASCIITable: lazy(() => import('../components/ASCIITable.jsx'))\r\n}\r\n\r\nconst runningCodeblock = {\r\n    onChange: () => {},\r\n    output: {\r\n        text: '',\r\n        push: (...args) => {\r\n            let newLine = '';\r\n            for (const data of args) {\r\n                let newString = '';\r\n                switch (typeof data) {\r\n                    case 'string':\r\n                        newString += data;\r\n                        const lastChar = data.slice(-1);\r\n                        if (lastChar === ':' || lastChar === ',') newString += ' ';\r\n                        break;\r\n\r\n                    case Array.isArray(data) ? 'object' : null:\r\n                        const array = data.map(d => typeof d === 'string' ? `'${d}'` : d);\r\n                        newString += `[${array.join(', ')}]`;\r\n                        break;\r\n\r\n                    default:\r\n                        newString += String(data);\r\n                }\r\n                newLine += newString;\r\n            }\r\n            console.log(newLine);\r\n            runningCodeblock.output.text += newLine + '\\n';\r\n            runningCodeblock.onChange();\r\n        },\r\n        clear: () => runningCodeblock.output.text = ''\r\n    }\r\n}\r\n\r\nfunction ArticleMedia(props) {\r\n\r\n    const type = (props.src.match(/\\.(\\w+)$/) || [0, null])[1];\r\n    const src = props.src.startsWith('./') ?\r\n        `${\r\n            (document.location.pathname.match(/\\//g) || ['/']).join('..').slice(1)\r\n        }articles/${props.pageName}${props.src.slice(1)}` :\r\n        props.src;\r\n\r\n    const renderers = [{\r\n        matches: ['mp4', 'webm', 'ogg'],\r\n        render: props => {\r\n            let alt = props.alt || '';\r\n            const match = alt.match(/!thumbnail\\(([^)]+)\\)/);\r\n            alt = match ? alt.replace(match[0], '') : alt;\r\n\r\n            return (\r\n                <section className='video'>\r\n                    <video\r\n                        onClick={() => props.setFocus(src)}\r\n                        onMouseOver={e => e.target.play()}\r\n                        onMouseOut={e => e.target.pause()}\r\n                        poster={match ? match[1] : ''}\r\n                        loop\r\n                    >\r\n                        <source src={src} type={'video/' + type} />\r\n                    </video>\r\n                    <em>{alt}</em>\r\n                </section>\r\n            )\r\n        }\r\n    },{\r\n        matches: ['jsx'],\r\n        render: props => (\r\n            <Suspense fallback={<div>Loading React Component...</div>}>\r\n                {React.createElement(\r\n                    components[props.src.slice(0, -4)] ||\r\n                    (() => <div>Failed to Load React Component</div>)\r\n                )}\r\n            </Suspense>\r\n        )\r\n    },{\r\n        matches: ['jpg', 'png', 'jpeg', ''],\r\n        render: props => <section className='image'><img src={src} /></section>\r\n    }];\r\n\r\n    const renderer = renderers.find(renderer => renderer.matches.find(match => match === type));\r\n\r\n    return renderer ? renderer.render(props) : (\r\n        <div> no corrsepdonding media renderer found </div>\r\n    );\r\n}\r\n\r\nfunction TableOfContents(props) {\r\n\r\n    if (!props.contents) return null;\r\n\r\n    const scrollToContent = e => {\r\n        const match = e.target.className.match(/ttt-(\\S+)/);\r\n        const innerText = match ? match[1] : e.target.innerText;\r\n        const classText = `ttt-${innerText}`;\r\n        const node = [...document.querySelectorAll('.section-header')].find(node =>\r\n            node.classList.contains(classText) ||\r\n            node.innerText === innerText\r\n        );\r\n        if (!node) return;\r\n        scrollIntoView(node, { scrollMode: 'if-needed', behavior: 'smooth' });\r\n    };\r\n\r\n    const generateURL = e => {\r\n        const copybox = document.querySelector('#copybox');\r\n        copybox.value = `${window.location.href.replace(/#.+/, '')}#${e.target.parentNode.parentNode.querySelector('span.link').innerText.replace(/\\s+/, '_')}`;\r\n        copybox.readOnly = true;\r\n        copybox.focus();\r\n        copybox.select();\r\n        console.log(document.execCommand('copy'));\r\n    }\r\n\r\n    const renderlis = () => {\r\n        let lis = [];\r\n        for (const content of props.contents) {\r\n            lis.push(\r\n                <li\r\n                    key={content.text}\r\n                    className={\r\n                        (content.level === 1 ? 'title ' : '') +\r\n                        (content.text === props.current ? ' current ' : '') +\r\n                        (content.text === ' Comments ' ? ' comments ' : '') +\r\n                        (content.ttt || '')\r\n                    }\r\n                >\r\n                    <span className='link' onClick={scrollToContent}>{content.text}</span>\r\n                    <span onClick={generateURL}><i className=\"fas fa-link\" /></span>\r\n                </li>\r\n            );\r\n        }\r\n        return lis;\r\n    };\r\n\r\n    const cur = props.contents.find(content => content.text === props.current);\r\n    const hidden = cur && cur.level === 1 ? 'hidden' : '';\r\n\r\n    return (\r\n        <aside id='table-of-contents' className={hidden}>\r\n            <ul>{renderlis()}</ul>\r\n            <textarea id='copybox' value='test' readOnly={true} />\r\n        </aside>\r\n    );\r\n}\r\n\r\nfunction ArticleContent(props) {\r\n\r\n    const [markdown, setMarkdown] = useState(null);\r\n    const [focus, setFocus]       = useState(null);\r\n\r\n    useEffect(() => {\r\n        requestRawText( // protocol://hostname:port/articles/name.md\r\n            `${window.location.protocol}//` +\r\n            `${window.location.hostname}:` +\r\n            `${window.location.port}/articles/` +\r\n            `${props.article.name.toLowerCase()}/index.md`\r\n        , res => {\r\n            setMarkdown(res);\r\n\r\n            const sectLines = res.match(/(?:^|[^\\\\])#+\\s+[^\\n\\r]+/g);\r\n            let sects = [];\r\n            sectLines.forEach((s, i) => {\r\n                const text = s.match(/#+\\s+([^\\n]+)$/)[1];\r\n                sects[i] = {\r\n                    text:  text,\r\n                    level: s.match(/#+/)[0].length,\r\n                    ttt:   'ttt-' + encodeURIComponent(text)\r\n                }\r\n            });\r\n            sects.push({ text: 'Comments', level: 2, ttt: 'ttt-comments' });\r\n            props.setSections(sects);\r\n        });\r\n\r\n        window.wpac_init = window.wpac_init || [];\r\n        window.wpac_init.push({widget: 'Comment', id: 18172});\r\n        if ('WIDGETPACK_LOADED' in window) return;\r\n        window.WIDGETPACK_LOADED = true;\r\n        var mc = document.createElement('script');\r\n        mc.type = 'text/javascript';\r\n        mc.async = true;\r\n        mc.src = 'https://embed.widgetpack.com/widget.js';\r\n        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(mc, s.nextSibling);\r\n\r\n        setTimeout(() => {\r\n            const lis = document.querySelectorAll('.wp-login-menu li');\r\n            for (const li of lis) {\r\n                if (li.innerText === 'Get WidgetPack') li.parentNode.removeChild(li);\r\n            }\r\n        }, 3100);\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        Array.from(document.getElementsByClassName('codeblock-full')).forEach(cb => {\r\n            const canExecute = cb.classList.contains('lang-js');\r\n\r\n            const elm = document.createElement('div');\r\n            elm.classList.add('codeblock-controls');\r\n\r\n            const copyBox  = document.createElement('textarea');\r\n            const spanCopy = document.createElement('span');\r\n\r\n            copyBox.setAttribute('class', 'copybox');\r\n            copyBox.value = cb.innerText;\r\n            copyBox.readOnly = true;\r\n            elm.appendChild(copyBox);\r\n\r\n            spanCopy.classList.add('copy');\r\n            spanCopy.setAttribute('title', 'copy to clipboard');\r\n            spanCopy.addEventListener('click', () => {\r\n                copyBox.focus();\r\n                copyBox.select();\r\n                document.execCommand('copy');\r\n            });\r\n            elm.appendChild(spanCopy);\r\n\r\n            if (canExecute) {\r\n                const spanRun  = document.createElement('span');\r\n                spanRun.classList.add('run');\r\n                spanRun.setAttribute('title', 'run code');\r\n                spanRun.addEventListener('click', () => {\r\n\r\n                    cb.classList.add('ran');\r\n\r\n                    let divOut;\r\n                    if (cb.nextSibling && cb.nextSibling.classList.contains('codeblock-output')) {\r\n                        divOut = cb.nextSibling;\r\n                    } else {\r\n                        divOut = document.createElement('div');\r\n                        divOut.classList.add('codeblock-output');\r\n                        divOut.innerText = '';\r\n                        if (cb.nextSibling) {\r\n                            cb.parentElement.insertBefore(divOut, cb.nextSibling);\r\n                        } else {\r\n                            cb.parentElement.append(divOut);\r\n                        }\r\n                    }\r\n\r\n                    const andy = document.createElement('div');\r\n\r\n                    runningCodeblock.output.clear();\r\n                    runningCodeblock.onChange = () => {\r\n                        andy.innerText = runningCodeblock.output.text.replace(/\\n/g, '-NLN**:o');\r\n                        divOut.innerHTML = andy.innerText.replace(\r\n                            /(^|[^\\\\])('(?:[^'\\\\]|\\\\.)*')/g,\r\n                            '$1<span class=\"string\">$2</span>'\r\n                        ).replace(/-NLN\\*\\*:o/g, '<br>');\r\n                    }\r\n\r\n                    try {\r\n                        eval(copyBox.value.replace(/console\\.log/g, 'runningCodeblock.output.push'));\r\n                    } catch (e) {\r\n                        runningCodeblock.output.push(e);\r\n                    }\r\n                });\r\n\r\n                elm.appendChild(spanRun);\r\n            }\r\n\r\n            cb.appendChild(elm);\r\n        });\r\n    }, [markdown]);\r\n\r\n    return (\r\n        <>\r\n            {focus && <Focus video={focus} dismount={() => setFocus(null)} />}\r\n            <div className={focus ? 'blur' : ''}>\r\n                <Header />\r\n                <StandardPage>\r\n                    <Markdown\r\n                        source={markdown}\r\n                        linkTarget='_blank'\r\n                        renderers={{\r\n                            code: CodeBlock,\r\n                            inlineCode: props => (<CodeBlock\r\n                                {...props}\r\n                                language='gml'\r\n                                inline={true}\r\n                            />),\r\n                            link: A,\r\n                            heading: props => props.level === 2 ?\r\n                                SectionTitle(props) :\r\n                                ArticleTitle(props),\r\n                            image: ps => (<ArticleMedia\r\n                                {...ps}\r\n                                pageName={props.article.name.toLowerCase()}\r\n                                setFocus={setFocus}\r\n                            />)\r\n                        }}\r\n                        className='rendered-markdown'\r\n                        escapeHtml={false}\r\n                    />\r\n                </StandardPage>\r\n                <div className='section-header hidden'>Comments</div>\r\n                <div className='wpac-wrapper'><div id='wpac-comment' /></div>\r\n            </div>\r\n        </>\r\n    );\r\n}\r\n\r\nexport default function Article(props) {\r\n    const [showTOC,     setShowTOC    ] = useState(true);\r\n    const [sections,    setSections   ] = useState(null);\r\n    const [currentTOC,  setCurrentTOC ] = useState('');\r\n    const [lastWindowY, setLastWindowY] = useState(false);\r\n\r\n    const handleScroll = e => {\r\n        const sectionTitles = document.getElementsByClassName('section-title');\r\n        for (const section of sectionTitles) {\r\n            const rect = section.getBoundingClientRect();\r\n            if (rect.top > 0 && rect.top < window.innerHeight / 2) {\r\n                const text = section.innerText;\r\n                if (currentTOC !== text) setCurrentTOC(text);\r\n                break;\r\n            }\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        const check = e => {\r\n            let isEnough = window.innerWidth > 16 * 83;\r\n            if (showTOC !== isEnough) setShowTOC(isEnough);\r\n        }\r\n\r\n        window.addEventListener('resize', check);\r\n        window.addEventListener('scroll', handleScroll);\r\n\r\n        return () => {\r\n            window.removeEventListener('resize', check)\r\n            window.removeEventListener('scroll', handleScroll)\r\n        };\r\n    }, []);\r\n\r\n    return (\r\n        <>\r\n            <ArticleContent\r\n                setSections={setSections}\r\n                article={props.article}\r\n            />\r\n            {showTOC && (<div>\r\n                <TableOfContents\r\n                    style={{ 'height': '100vh' }}\r\n                    contents={sections}\r\n                    current={currentTOC}\r\n                />\r\n            </div>)}\r\n        </>\r\n    );\r\n}\r\n","import React from 'react';\r\n\r\nexport default function SectionTitle(props) {\r\n    return (\r\n        <div {...props} className={\r\n            'section-title section-header ' +\r\n            (props.className || '') +\r\n            (props.children ? ' ttt-' + encodeURIComponent(props.children[0].props.value) : '')\r\n        }>\r\n            <div />\r\n            <span>{props.content} {props.children}</span>\r\n            <div />\r\n        </div>\r\n    );\r\n}\r\n","import React, { useEffect } from 'react';\r\n\r\nexport default function Focus(props) {\r\n\r\n    const handleClick = e => {\r\n        if (!document.querySelector('.focus .content').contains(e.target)) {\r\n            props.dismount();\r\n        }\r\n    }\r\n\r\n    const videoRef = React.createRef();\r\n\r\n    useEffect(() => {\r\n        if (videoRef.current) videoRef.current.play();\r\n    });\r\n\r\n    return (\r\n        <div className='focus' onClick={handleClick}>\r\n            {props.video && <div className='video content'>\r\n                <video controls ref={videoRef} >\r\n                    <source src={props.video} />\r\n                </video>\r\n            </div>}\r\n        </div>\r\n    );\r\n}\r\n","import React from 'react';\r\nimport SyntaxHighlighter from \"react-syntax-highlighter\";\r\nimport styleOneDark from \"react-syntax-highlighter/dist/styles/hljs/atom-one-dark\";\r\n\r\nexport default function CodeBlock(props) {\r\n    if (props.inline) return (\r\n        <pre className={`code lang-${props.language || 'auto'} inline`}>\r\n            <code>\r\n                {props.value}\r\n            </code>\r\n        </pre>\r\n    );\r\n\r\n    return (\r\n        <SyntaxHighlighter\r\n            className={`code lang-${props.language || 'auto'} codeblock-full`}\r\n            language={props.language || null}\r\n            style={styleOneDark}\r\n        >\r\n            {props.value}\r\n        </SyntaxHighlighter>\r\n    );\r\n}\r\n"],"sourceRoot":""}